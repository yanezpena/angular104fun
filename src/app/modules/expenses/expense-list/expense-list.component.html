<mat-card>
	<mat-card-title>
		<div fxLayout="row" fxLayout.sm="column">
			<div fxFlex>
				Company Expenses
			</div>
			<div fxFlex fxLayoutAlign="end">
				<app-small-button
					imageCaption="add"
					toolTipMessage="Add new Expense"
					(click)="add()"
				></app-small-button>
				<app-small-button
					imageCaption="refresh"
					toolTipMessage="Refresh Expenses"
					(click)="refresh()"
				></app-small-button>
			</div>
		</div>
	</mat-card-title>
	<mat-card-content>
		<div class="mat-elevation-z8">
			<table mat-table [dataSource]="dataSource">
				<!-- name Column -->
				<ng-container matColumnDef="name">
					<th mat-header-cell *matHeaderCellDef>Name</th>
					<td mat-cell *matCellDef="let record">{{ record.name }}</td>
				</ng-container>

				<!-- description Column -->
				<ng-container matColumnDef="description">
					<th mat-header-cell *matHeaderCellDef>Description</th>
					<td mat-cell *matCellDef="let record">
						<div [innerHTML]="record.description"></div>
					</td>
				</ng-container>

				<!-- state Column -->
				<ng-container matColumnDef="state">
					<th
						mat-header-cell
						class="column-align-center"
						*matHeaderCellDef
					>
						State
					</th>
					<td
						mat-cell
						ngClass="column-align-center"
						*matCellDef="let record"
					>
						<app-state-field [id]="record.state"></app-state-field>
					</td>
				</ng-container>

				<!-- entryDate Column -->
				<ng-container matColumnDef="entryDate">
					<th mat-header-cell *matHeaderCellDef>Entry Date</th>
					<td mat-cell *matCellDef="let record">
						{{ record.entryDate | date: 'medium' }}
					</td>
				</ng-container>

				<!-- updateDate Column -->
				<ng-container matColumnDef="updateDate">
					<th mat-header-cell *matHeaderCellDef>Update Date</th>
					<td mat-cell *matCellDef="let record">
						{{ record.updateDate | date: 'medium' }}
					</td>
				</ng-container>

				<!-- subtotal Column -->
				<ng-container matColumnDef="subtotal">
					<th mat-header-cell *matHeaderCellDef>Sub-Total</th>
					<td mat-cell *matCellDef="let record">
						{{ record.subtotal | currency }}
					</td>
				</ng-container>

				<!-- totalTax Column -->
				<ng-container matColumnDef="totalTax">
					<th mat-header-cell *matHeaderCellDef>Taxes</th>
					<td mat-cell *matCellDef="let record">
						{{ record.totalTax | currency }}
					</td>
				</ng-container>

				<!-- total Column -->
				<ng-container matColumnDef="total">
					<th mat-header-cell *matHeaderCellDef>Total</th>
					<td mat-cell *matCellDef="let record">
						{{ record.total | currency }}
					</td>
				</ng-container>

				<!-- actions Column -->
				<ng-container matColumnDef="actions">
					<th mat-header-cell *matHeaderCellDef></th>
					<td
						mat-cell
						ngClass="column-align-right"
						*matCellDef="let record"
					>
						<app-small-button
							imageCaption="edit"
							toolTipMessage="Update this Expense"
						></app-small-button>
						<app-small-button
							imageCaption="delete"
							toolTipMessage="Delete this Expense"
							(click)="remove(record)"
						></app-small-button>
						<app-small-button
							imageCaption="check"
							toolTipMessage="Approve this Expense"
						></app-small-button>
					</td>
				</ng-container>

				<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
				<tr
					mat-row
					*matRowDef="let row; columns: displayedColumns"
				></tr>
			</table>

			<mat-paginator
				[pageSizeOptions]="[5, 10, 20, 50, 100]"
				showFirstLastButtons
			></mat-paginator>
		</div>
	</mat-card-content>
</mat-card>
